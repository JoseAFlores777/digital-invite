/* globals.css — Tailwind v4 */
@import url("tailwindcss");

/* Plugins oficiales (v4) */
@plugin "@tailwindcss/forms";
@plugin "@tailwindcss/typography";
@plugin "@tailwindcss/aspect-ratio";

/* -----------------------------
   THEME: tokens (v4 @theme)
   ----------------------------- */
@theme {
  /* Breakpoints (puedes añadir los tuyos) */
  --breakpoint-xs: 360px;
  --breakpoint-3xl: 1920px;

  /* Colores escala wedgewood */
  --color-wedgewood-50:  #f6fcff;
  --color-wedgewood-100: #dceafd;
  --color-wedgewood-200: #b3d2f4;
  --color-wedgewood-300: #8fc1ef;
  --color-wedgewood-400: #7cafdc;
  --color-wedgewood-500: #709dc5;
  --color-wedgewood-600: #6d98be;
  --color-wedgewood-700: #678eb1;
  --color-wedgewood-800: #5f83a3;
  --color-wedgewood-900: #577793;
  --color-wedgewood-1000:#52708a;
  --color-wedgewood-1100:#4c6881;
  --color-wedgewood-1200:#466076;
  --color-wedgewood-1300:#3f566b;
  --color-wedgewood-1400:#374c5f;
  --color-wedgewood-1500:#2f4252;
  --color-wedgewood-1600:#273746;
  --color-wedgewood-1700:#1f2c3a;
  --color-wedgewood-1800:#16212d;
  --color-wedgewood-1900:#0f1922;

  /* Paleta dusty (compatibilidad con componentes existentes) */
  --color-dusty-50: #f6f8fb;
  --color-dusty-100: #eef3f9;
  --color-dusty-200: #dee8f2;
  --color-dusty-300: #c9d8e7;
  --color-dusty-400: #b3c7db;
  --color-dusty-500: #9cb3c7;
  --color-dusty-600: #7c95ab;
  --color-dusty-700: #5f788d;
  --color-dusty-800: #465b6c;
  --color-dusty-900: #2a3947;

  /* Alias semánticos (crean utilidades: bg-primary, text-foreground, etc.) */
  --color-primary: var(--color-wedgewood-800);
  --color-primary-soft: var(--color-wedgewood-300);
  --color-primary-deep: var(--color-wedgewood-1400);
  --color-background: #ffffff;
  --color-foreground: var(--color-wedgewood-1900);
  --color-card: #ffffff;
  --color-card-foreground: var(--color-wedgewood-1700);
  --color-border: var(--color-wedgewood-100);
  --color-ring: var(--color-wedgewood-300);

  /* Tipografías (con next/font en variables CSS) */
  --font-sans: var(--font-sans), ui-sans-serif, system-ui, sans-serif;
  --font-display: var(--font-display), ui-serif, serif;
  --font-script: var(--font-script), cursive;

  /* Radios y sombras */
  --radius-xl: 1rem;
  --radius-2xl: 1.25rem;
  --radius-3xl: 1.75rem;

  --shadow-soft: 0 10px 30px -10px rgba(20,30,45,.15);
  --shadow-ring: 0 0 0 6px color-mix(in oklab, var(--color-ring) 60%, transparent);
}

/* Dark suave (actívalo con class="dark") */
:root.dark {
  --color-background: var(--color-wedgewood-1900);
  --color-foreground: var(--color-wedgewood-50);
  --color-card: var(--color-wedgewood-1800);
  --color-card-foreground: var(--color-wedgewood-50);
  --color-border: var(--color-wedgewood-1100);
  --color-primary: var(--color-wedgewood-300);
  --color-primary-deep: var(--color-wedgewood-50);
}

/* Base */
html { scroll-behavior: smooth; }
body {
  @apply antialiased bg-background text-foreground;
  font-family: var(--font-sans);
}

/* Componentes */
.btn-primary {
  @apply inline-flex items-center justify-center px-5 py-3 rounded-2xl transition focus:outline-none focus:ring-2;
  background: var(--color-primary);
  color: white;
  border: 1px solid color-mix(in oklab, var(--color-primary) 85%, black);
  box-shadow: var(--shadow-soft);
}
.btn-primary:hover { background: var(--color-primary-deep); }
.btn-primary:focus { box-shadow: var(--shadow-ring); }

.card {
  @apply rounded-3xl border p-6 md:p-10;
  background: var(--color-card);
  color: var(--color-card-foreground);
  border-color: var(--color-border);
  box-shadow: var(--shadow-soft);
}

/* Prosa elegante para “Nuestra historia”, invitación, etc. */
.prose-wedding {
  @apply prose prose-lg md:prose-xl;
  color: var(--color-foreground);
}
.prose-wedding a {
  color: var(--color-primary); text-decoration: none; font-weight: 600;
}
.prose-wedding a:hover { color: var(--color-primary-deep); text-decoration: underline; }
.prose-wedding h1, .prose-wedding h2, .prose-wedding h3, .prose-wedding h4 { letter-spacing: -0.01em; }
.prose-wedding blockquote {
  border-left: 4px solid var(--color-primary-soft);
  color: var(--color-wedgewood-1100);
}

/* Utilidades personalizadas (v4: defines en CSS) */
.fade-divider {
  /* separador súper difuminado hero → historia */
  background: linear-gradient(
                  to bottom,
                  color-mix(in oklab, var(--color-primary-soft) 100%, transparent) 0%,
                  color-mix(in oklab, var(--color-primary-soft) 25%, transparent) 40%,
                  var(--color-background) 100%
  );
}
.hero-title { @apply font-display text-white drop-shadow; }
@media (min-width: 768px) { /* md */
  .hero-title { font-size: clamp(3rem, 2rem + 3vw, 4rem); }
}

/* Accessibility utility: screen-reader only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Loader overlay styles (uses theme tokens) */
.loader-overlay {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
  background: var(--color-background);
  z-index: 50;
  opacity: 1;
  transition: opacity 420ms ease;
  min-height: 100dvh;
  padding-bottom: calc(24px + env(safe-area-inset-bottom));
  padding-top: calc(24px + env(safe-area-inset-top));
}

.loader-overlay.fade-out {
  opacity: 0;
  pointer-events: none;
}

.loader-animation {
  width: 190px;
  height: 190px;
}


/* MagicUI shine and shiny-text animations for Tailwind v4 */
@theme inline {
  --animate-shine: shine var(--duration) infinite linear;
  @keyframes shine {
    0% { background-position: 0% 0%; }
    50% { background-position: 100% 100%; }
    to { background-position: 0% 0%; }
  }

  --animate-shiny-text: shiny-text 8s infinite;
  @keyframes shiny-text {
    0%, 90%, 100% { background-position: calc(-100% - var(--shiny-width)) 0; }
    30%, 60% { background-position: calc(100% + var(--shiny-width)) 0; }
  }
}
